SELECT u.FIRSTNAME AS firstname, u.LASTNAME AS lastname, u.EMAIL as email, u.PHONE as phone,c.CUSTOMER_PACKAGE_TOTAL_WEIGHT AS package_weight, c.PACKAGE_FROM_CITY AS source_city, c.PACKAGE_DEST_CITY AS dest_city, c.CUSTOMER_ID as customer_id, t.TRAVELER_ID AS traveler_id
FROM `TRAVELER_INFO` as t
INNER JOIN (SELECT ti.TRAVELER_ID FROM `TRAVELER_INFO` AS ti WHERE ti.USER_ID = 8 ORDER BY ti.TRAVELER_ID DESC LIMIT 5) as ttemp
ON t.TRAVELER_ID = ttemp.TRAVELER_ID
INNER JOIN `CUSTOMER_INFO` AS  c
ON t.FROM_ZIPCODE = c.PACKAGE_FROM_ZIPCODE AND t.DEST_ZIPCODE = c.PACKAGE_DEST_ZIPCODE
AND t.DEPARTURE_DATE_TIME >= c.PACKAGE_READY_DATE AND t.ARRIVAL_DATE_TIME <= c.PACKAGE_DELIVERY_DATE
INNER JOIN `USER_INFO` AS u 
ON c.USER_ID = u.USER_ID