SELECT u.FIRSTNAME AS firstname, u.LASTNAME AS lastname, u.EMAIL as email, u.PHONE as phone,t.SHIPPING_COST AS price, t.FROM_CITY AS source_city, t.DEST_CITY AS dest_city, c.CUSTOMER_ID as customer_id, t.TRAVELER_ID AS traveler_id
FROM `CUSTOMER_INFO` as c
INNER JOIN (SELECT ci.CUSTOMER_ID FROM `CUSTOMER_INFO` AS ci WHERE ci.USER_ID = 11 ORDER BY ci.CUSTOMER_ID DESC LIMIT 5) as ctemp
ON c.CUSTOMER_ID = ctemp.CUSTOMER_ID
INNER JOIN `TRAVELER_INFO` AS  t
ON t.FROM_ZIPCODE = c.PACKAGE_FROM_ZIPCODE AND t.DEST_ZIPCODE = c.PACKAGE_DEST_ZIPCODE
AND t.DEPARTURE_DATE_TIME >= c.PACKAGE_READY_DATE AND t.ARRIVAL_DATE_TIME <= c.PACKAGE_DELIVERY_DATE
INNER JOIN `USER_INFO` AS u 
ON t.USER_ID = u.USER_ID
